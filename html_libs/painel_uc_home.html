
<div class="row" id="grafico">
    <div class="col-md-8">
        <h2>RGI {UCNOME}</h2>    
    </div>
    <div class="col-md-4" align="right">
        <h2>Última nota: {ULTIMANOTA}</h2>
    </div>
</div>


<script type="text/javascript">
    

    /*
     * DESENHAR GRÁFICOS
     * 
     */
    function drawChart() {
    var data = google.visualization.arrayToDataTable([
        ['Meses', '{GETANO}', 'Média'] 
        {CHARTVAL}	
    ]);
    var options = {
            title: 'Evolução Financeira',
            hAxis: {title: 'Meses', titleTextStyle: {color: '#47A3DA'}},
            vAxis: {title: 'Pago em R$', titleTextStyle: {color: '#47A3DA'}},
            pointSize: 5,
            colors: ['Yellow','#D9EDF7','MediumSeaGreen','DarkGreen','DarkGreen','Lime','Chartreuse','GreenYellow','YellowGreen','OliveDrab','DarkOliveGreen','Olive','','','','']
                    };

            var chart = new google.visualization.AreaChart(document.getElementById('chart_div'));
            chart.draw(data, options);
    }

    function drawChart2() {
        
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Meses');
        data.addColumn('number', 'Meta'); 
        data.addColumn('number', 'Média');
        data.addColumn('number', '{ANO_ATUAL}'); 
        data.addColumn({type:'string', role:'annotation'}); 
        data.addRows([{CHARTCON}]);
        var options = {
            title: 'Histórico de Consumo',
            hAxis: {title: 'Meses', titleTextStyle: {color: '#47A3DA'}},
            vAxis: {title: 'Consumo em {TIPOMEDIDA}', titleTextStyle: {color: '#47A3DA'}}, pointSize: 5,
            //colors: ['MediumSeaGreen','#D9EDF7','#DB261D','DarkGreen','#DB261D','Lime','Chartreuse','GreenYellow','YellowGreen','OliveDrab','DarkOliveGreen','Olive','','','',''] //ORIGINAL
            colors: ['MediumSeaGreen','#D9EDF7','#DB261D','Lime','Chartreuse','GreenYellow','YellowGreen','OliveDrab','DarkOliveGreen','Olive','','','',''] 
        };

                var chart = new google.visualization.AreaChart(document.getElementById('chart_div2'));
                chart.draw(data, options);
    }
    
    $(document).ready(function(){
        
        $('.muda-ano').click(function(e){
        
            //alert("sad");
            e.preventDefault();
            var href = $(this).attr('href');
            $('#conteudo').load(href, function(){
                drawChart();
                drawChart2();     
            });
        
        });    
        
    });    

</script>


<div class="container rounded" style="padding:15px; margin-top: 27px">
    <div class="col-md-12">
        <div class="row">
            <div class="col-md-6"><h3>Relatório de Consumo</h3></div>
            <div class="col-md-6" align="right"><h3><a href="src/painel_uc/home.php?ano={ANO_ATUAL_MENOS}" class="btn btn-warning muda-ano">&Lt;</a> <span style="text-decoration: underline">Exercício {ANO_ATUAL}</span> <a href="src/painel_uc/home.php?ano={ANO_ATUAL_MAIS}" class="btn btn-warning muda-ano">&Gt;</a></h3></div>
        </div>
        <div class="row">
            <div id="chart_div2" style="margin-top:15px"></div>
        </div>
    </div>
    <div class="col-md-12">
        <div class="row">
            <div id="chart_div" style="margin-top:15px"></div>
        </div>
        <div class="row col-md-10 col-md-offset-1" style="margin-top:25px; margin-bottom:20px">
            <div class="btn-group btn-group-justified" style="">
                <span class="btn btn-lg bg-success" title="Meta estabelecida pela concessionária">Meta: {META} <small>{TIPOMEDIDA}/mês</small></span>
                <span class="btn btn-lg bg-info" title="Média Mensal">Média (M): {MEDIACONS} <small>{TIPOMEDIDA}/mês</small></span>
                <span class="btn btn-lg bg-warning" title="Média por população fixa (servidores)">Média (F): {MEDSERV} <small>{TIPOMEDIDA}/pessoa/mês</small></span>
                <span class="btn btn-lg bg-danger" title="Média por área total">Média (A): {MEDFLU} <small>{TIPOMEDIDA}/m²</small></span>
            </div>
        </div>
    </div>
</div> 